# KataCut — статус проекта (продуктовый обзор)

Обновлено: 17 октября 2025 года

## Идея и ценность
KataCut — «единая точка правды» для инструментов разработчика с ИИ. Команда хранит нужные инструменты (MCP‑серверы) в одном конфигурационном файле репозитория и одним действием приводит рабочую среду в требуемое состояние на любой машине.

Зачем это нужно:
- Быстрый онбординг: «клонировал репозиторий → применил конфиг → работаешь».
- Единообразие в команде: у всех одинаковый набор инструментов и настроек.
- Предсказуемость: повторное применение ничего лишнего не меняет (идемпотентность).
- Прозрачность: всегда видно, что подключено в проекте и у пользователя.

## Что уже готово (MVP для Claude Code)
- Единый конфиг проекта: `katacut.config.jsonc` — перечень требуемых MCP‑инструментов (HTTP/STDIO).
- Просмотр текущего состояния:
  - `kc mcp list --client claude-code` — сводка по проектным и пользовательским настройкам.
  - `--scope project` — показывает содержимое файла проекта.
  - `--scope user` — показывает пользовательские настройки.
- Приведение системы к конфигу:
  - `kc install --client claude-code` — применяет конфигурацию.
  - `--scope project` — обновляет проектный файл; изменения можно коммитить.
  - `--scope user` — обновляет пользовательские настройки.
  - `--dry-run` — сначала показывает план действий (add/update/remove/skip).
  - `--prune` — удаляет лишнее, не описанное в конфиге.
- Идемпотентность: повторный `kc install` без изменений даёт только `skip`.

## Пользовательские сценарии
- Новый разработчик: клонирует проект и одной командой получает готовую среду в Claude Code.
- Командное выравнивание: у всей команды одинаковый набор MCP‑инструментов за счёт проектного файла в репозитории.
- Чистка «дрейфа» настроек: `--prune` убирает лишние записи.
- Безопасное применение: `--dry-run` показывает, что именно будет сделано, перед тем как вносить изменения.

## Ограничения сейчас
- Поддерживается один клиент — `claude-code`.
- Нет встроенной диагностики окружения (`doctor`) и режима строгой проверки в CI.

## Ближайшие шаги
- Диагностика: `kc doctor` — проверка наличия клиента, путей и прав, подсказки по исправлению.
- Режим CI/lockfile: фиксировать фактические записи и проверять расхождения без изменений.
- Улучшенный отчёт: компактная таблица изменений, удобная для ревью.
- Документация и примеры конфигов для типовых сценариев.

## Критерии успеха
- Онбординг в новый проект занимает минуты, а не часы/дни.
- Одинаковая среда у всей команды без ручных инструкций.
- Минимум расхождений между конфигом и фактическим состоянием на машинах разработчиков.

## Демо за 2 минуты
1) Показать `katacut.config.jsonc` — что требуется проекту.
2) Выполнить `kc mcp list --client claude-code` — «как сейчас».
3) Выполнить `kc install --client claude-code --dry-run` — план действий.
4) Выполнить `kc install --client claude-code` — применить.
5) Повторить `kc install --client claude-code --dry-run` — только `skip`.

